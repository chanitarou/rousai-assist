<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>労災申請システム - 休業補償給付請求書 | デジタル庁デザインシステム準拠</title>

    <!-- デジタル庁デザインシステム準拠のフォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- 共通CSS -->
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/common.css">

    <!-- 申請画面専用CSS -->
    <link rel="stylesheet" href="css/pages/application-form.css?v=20250131">
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <div class="header-top">
            <div class="container">
                <div class="header-top-content">
                    <span>厚生労働省 労働基準局</span>
                    <nav>
                        <a href="index.html" aria-label="ホームへ戻る">ホーム</a>
                        <a href="#" aria-label="ヘルプを表示">ヘルプ</a>
                        <a href="#" onclick="logout()" aria-label="ログアウト">ログアウト</a>
                    </nav>
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <h1 class="header-title">労災保険給付申請 - 休業補償給付請求書</h1>
                <p class="header-subtitle">様式第8号 - 業務災害用</p>
            </div>
        </div>
    </header>

    <!-- プログレスインジケーター -->
    <section class="progress-section">
        <div class="container">
            <div class="progress-header">
                <h2 class="progress-title">申請進捗状況</h2>
                <div class="progress-controls">
                    <div class="progress-main-controls">
                        <span class="progress-counter">
                            ステップ <span id="currentStep">1</span> / <span id="totalSteps">10</span>
                        </span>
                        <button class="btn-save-temp" onclick="manualSave()" title="入力内容を一時保存します">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM19 19H5V5H16.17L19 7.83V19ZM12 12C10.34 12 9 13.34 9 15C9 16.66 10.34 18 12 18C13.66 18 15 16.66 15 15C15 13.34 13.66 12 12 12ZM6 6H15V10H6V6Z" fill="currentColor"/>
                            </svg>
                            一時保存
                        </button>
                    </div>
                    <div class="progress-dev-controls">
                        <button class="dev-skip-btn" onclick="nextStepDev()" title="開発用ボタン：バリデーションをスキップして次へ">
                            次へ（開発用ボタン）
                        </button>
                        <button class="dev-skip-btn" onclick="goToEmployerMode()" title="開発用ボタン：事業主入力画面へ">
                            事業主（開発用ボタン）
                        </button>
                        <button class="dev-skip-btn" onclick="goToMedicalMode()" title="開発用ボタン：医療機関入力画面へ">
                            医療機関（開発用ボタン）
                        </button>
                    </div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-bar-fill" id="progressBar" style="width: 10%;"></div>
            </div>

            <div class="progress-steps" id="progressSteps">
                <!-- JavaScriptで動的に生成 -->
            </div>
        </div>
    </section>

    <!-- メインコンテンツ -->
    <main class="main-content">
        <div class="container">
            <!-- ステップ1: 労働者基本情報 -->
            <div class="step-content active" id="step-1">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">労働者基本情報</h2>
                        <p class="card-description">申請者の基本情報を入力してください</p>
                    </div>

                    <form>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="lastName" class="form-label form-label-required">姓</label>
                                <input type="text" id="lastName" class="form-input" placeholder="例：山田" aria-required="true">
                                <div class="error-message" id="lastName-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="firstName" class="form-label form-label-required">名</label>
                                <input type="text" id="firstName" class="form-input" placeholder="例：太郎" aria-required="true">
                                <div class="error-message" id="firstName-error"></div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="lastNameKana" class="form-label form-label-required">姓（フリガナ）</label>
                                <input type="text" id="lastNameKana" class="form-input" placeholder="例：ヤマダ" aria-required="true">
                                <div class="error-message" id="lastNameKana-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="firstNameKana" class="form-label form-label-required">名（フリガナ）</label>
                                <input type="text" id="firstNameKana" class="form-input" placeholder="例：タロウ" aria-required="true">
                                <div class="error-message" id="firstNameKana-error"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">性別</label>
                            <div class="form-radio-inline">
                                <div class="form-radio-item">
                                    <input type="radio" id="male" name="gender" value="male" class="form-radio">
                                    <label for="male" class="form-radio-label">男性</label>
                                </div>
                                <div class="form-radio-item">
                                    <input type="radio" id="female" name="gender" value="female" class="form-radio">
                                    <label for="female" class="form-radio-label">女性</label>
                                </div>
                                <div class="form-radio-item">
                                    <input type="radio" id="other" name="gender" value="other" class="form-radio">
                                    <label for="other" class="form-radio-label">その他</label>
                                </div>
                            </div>
                            <div class="error-message" id="gender-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="birthDate" class="form-label form-label-required">生年月日</label>
                            <input type="date" id="birthDate" class="form-input" aria-required="true" placeholder="例：2000-01-15">
                            <p class="form-help">カレンダーアイコンをクリックして日付を選択してください</p>
                            <div class="error-message" id="birthDate-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">電話番号</label>
                            <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                                <input type="text" id="tel1" class="form-input" placeholder="080" maxlength="5" style="max-width: 100px;" aria-required="true">
                                <span style="font-weight: bold;">-</span>
                                <input type="text" id="tel2" class="form-input" placeholder="1234" maxlength="4" style="max-width: 100px;" aria-required="true">
                                <span style="font-weight: bold;">-</span>
                                <input type="text" id="tel3" class="form-input" placeholder="5678" maxlength="4" style="max-width: 100px;" aria-required="true">
                            </div>
                            <p class="form-help">半角数字で入力してください（ハイフンなし）</p>
                            <div class="error-message" id="tel-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">郵便番号</label>
                            <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                                <input type="text" id="postalCode1" class="form-input" placeholder="123" maxlength="3" style="max-width: 100px;" aria-required="true">
                                <span style="font-weight: bold;">-</span>
                                <input type="text" id="postalCode2" class="form-input" placeholder="4567" maxlength="4" style="max-width: 120px;" aria-required="true">
                                <button type="button" class="btn btn-secondary" onclick="searchAddress()">住所検索</button>
                            </div>
                            <div class="error-message" id="postalCode-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="address1" class="form-label form-label-required">住所（都道府県・市区町村）</label>
                            <input type="text" id="address1" class="form-input" placeholder="郵便番号検索ボタンで自動入力されます" aria-required="true">
                            <p class="form-help">郵便番号検索ボタンを押すと自動入力されます</p>
                            <div class="error-message" id="address1-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="address2" class="form-label form-label-required">住所（番地・建物名等）</label>
                            <input type="text" id="address2" class="form-input" placeholder="例：1-2-2 霞が関ビル3階" aria-required="true">
                            <p class="form-help">番地、建物名、部屋番号などを入力してください</p>
                            <div class="error-message" id="address2-error"></div>
                        </div>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" disabled>前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- ステップ2: 労働保険番号 -->
            <div class="step-content" id="step-2">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">労働保険番号・職種情報</h2>
                        <p class="card-description">労働保険番号と職種情報を入力してください</p>
                    </div>

                    <form>
                        <div class="form-group">
                            <label class="form-label form-label-required">労働保険番号</label>
                            <p class="form-help">会社から提供される14桁の番号です（11桁-3桁の形式）</p>
                            <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                                <div style="flex: 1; max-width: 300px;">
                                    <label for="insuranceMain" class="sr-only">労働保険番号（前半11桁）</label>
                                    <input type="text" id="insuranceMain" class="form-input" placeholder="12345678901" maxlength="11" aria-required="true">
                                </div>
                                <span style="font-weight: bold;">-</span>
                                <div style="flex: 0 0 120px;">
                                    <label for="insuranceBranch" class="sr-only">労働保険番号（後半3桁）</label>
                                    <input type="text" id="insuranceBranch" class="form-input" placeholder="001" maxlength="3" aria-required="true">
                                </div>
                            </div>
                            <div class="error-message" id="insurance-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="occupation" class="form-label form-label-required">職種</label>
                            <input type="text" id="occupation" class="form-input" placeholder="例：製造業、事務職、建設作業員">
                            <div class="error-message" id="occupation-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="averageWage" class="form-label form-label-required">平均賃金（日額）</label>
                            <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                                <input type="number" id="averageWage" class="form-input" placeholder="10000" style="max-width: 200px;">
                                <span>円</span>
                            </div>
                            <p class="form-help">直近3か月の平均日額賃金を入力してください</p>
                            <div class="error-message" id="averageWage-error"></div>
                        </div>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- ステップ3: 災害情報 -->
            <div class="step-content" id="step-3">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">災害情報</h2>
                        <p class="card-description">労働災害の詳細情報を入力してください</p>
                    </div>

                    <form>
                        <div class="form-group">
                            <label for="injuryDate" class="form-label form-label-required">負傷または発病年月日</label>
                            <input type="date" id="injuryDate" class="form-input" placeholder="例：2025-01-15">
                            <p class="form-help">カレンダーアイコンをクリックして日付を選択してください</p>
                            <div class="error-message" id="injuryDate-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">災害発生時刻</label>
                            <div class="form-row">
                                <div>
                                    <label for="injuryHour" class="sr-only">時</label>
                                    <select id="injuryHour" class="form-input form-select">
                                        <option value="">時を選択</option>
                                        <option value="0">0時</option>
                                        <option value="1">1時</option>
                                        <option value="2">2時</option>
                                        <option value="3">3時</option>
                                        <option value="4">4時</option>
                                        <option value="5">5時</option>
                                        <option value="6">6時</option>
                                        <option value="7">7時</option>
                                        <option value="8">8時</option>
                                        <option value="9">9時</option>
                                        <option value="10">10時</option>
                                        <option value="11">11時</option>
                                        <option value="12">12時</option>
                                        <option value="13">13時</option>
                                        <option value="14">14時</option>
                                        <option value="15">15時</option>
                                        <option value="16">16時</option>
                                        <option value="17">17時</option>
                                        <option value="18">18時</option>
                                        <option value="19">19時</option>
                                        <option value="20">20時</option>
                                        <option value="21">21時</option>
                                        <option value="22">22時</option>
                                        <option value="23">23時</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="injuryMinute" class="sr-only">分</label>
                                    <select id="injuryMinute" class="form-input form-select">
                                        <option value="">分を選択</option>
                                        <option value="0">00分</option>
                                        <option value="15">15分</option>
                                        <option value="30">30分</option>
                                        <option value="45">45分</option>
                                    </select>
                                </div>
                            </div>
                            <div class="error-message" id="injuryTime-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="accidentLocation" class="form-label form-label-required">災害発生場所</label>
                            <input type="text" id="accidentLocation" class="form-input" placeholder="例：工場内第2作業場">
                            <div class="error-message" id="accidentLocation-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="accidentDescription" class="form-label form-label-required">災害発生状況</label>
                            <textarea id="accidentDescription" class="form-input form-textarea" rows="4" placeholder="災害が発生した状況を詳しく記入してください"></textarea>
                            <p class="form-help">いつ、どこで、何をしている時に、どのような災害が発生したか、具体的に記入してください（最低20文字以上）</p>
                            <div class="error-message" id="accidentDescription-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">休業期間</label>
                            <div class="form-row">
                                <div>
                                    <label for="leaveStartDate" class="form-label">開始日</label>
                                    <input type="date" id="leaveStartDate" class="form-input" placeholder="例：2025-01-15">
                                    <p class="form-help">カレンダーから選択</p>
                                </div>
                                <div>
                                    <label for="leaveEndDate" class="form-label">終了日（予定）</label>
                                    <input type="date" id="leaveEndDate" class="form-input" placeholder="例：2025-01-30">
                                    <p class="form-help">カレンダーから選択</p>
                                </div>
                            </div>
                            <div class="error-message" id="leavePeriod-error"></div>
                        </div>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- ステップ4: 振込先情報 -->
            <div class="step-content" id="step-4">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">振込先情報</h2>
                        <p class="card-description">給付金の振込先口座を入力してください</p>
                    </div>

                    <form>
                        <div class="notification notification-info">
                            <svg class="notification-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                            </svg>
                            <div>
                                <strong>振込先について</strong>
                                <p style="margin-top: var(--spacing-1); font-size: var(--font-size-sm);">
                                    ご本人名義の口座を入力してください。
                                </p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="bankName" class="form-label form-label-required">金融機関名</label>
                            <input type="text" id="bankName" class="form-input" placeholder="例：三菱UFJ銀行、みずほ銀行" aria-required="true">
                            <div class="error-message" id="bankName-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="branchName" class="form-label form-label-required">支店名</label>
                            <input type="text" id="branchName" class="form-input" placeholder="例：本店、東京支店" aria-required="true">
                            <div class="error-message" id="branchName-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label form-label-required">口座種別</label>
                            <div class="form-radio-inline">
                                <div class="form-radio-item">
                                    <input type="radio" id="accountTypeOrdinary" name="accountType" value="ordinary" class="form-radio">
                                    <label for="accountTypeOrdinary" class="form-radio-label">普通</label>
                                </div>
                                <div class="form-radio-item">
                                    <input type="radio" id="accountTypeCurrent" name="accountType" value="current" class="form-radio">
                                    <label for="accountTypeCurrent" class="form-radio-label">当座</label>
                                </div>
                                <div class="form-radio-item">
                                    <input type="radio" id="accountTypeSavings" name="accountType" value="savings" class="form-radio">
                                    <label for="accountTypeSavings" class="form-radio-label">貯蓄</label>
                                </div>
                            </div>
                            <div class="error-message" id="accountType-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="accountNumber" class="form-label form-label-required">口座番号</label>
                            <input type="text" id="accountNumber" class="form-input" placeholder="例：1234567（7桁以内）" maxlength="8" aria-required="true">
                            <p class="form-help">半角数字で入力してください（通常7桁）</p>
                            <div class="error-message" id="accountNumber-error"></div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="accountHolderLastNameKana" class="form-label form-label-required">口座名義人 姓（カナ）</label>
                                <input type="text" id="accountHolderLastNameKana" class="form-input" placeholder="例：ヤマダ" aria-required="true">
                                <div class="error-message" id="accountHolderLastNameKana-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="accountHolderFirstNameKana" class="form-label form-label-required">口座名義人 名（カナ）</label>
                                <input type="text" id="accountHolderFirstNameKana" class="form-input" placeholder="例：タロウ" aria-required="true">
                                <div class="error-message" id="accountHolderFirstNameKana-error"></div>
                            </div>
                        </div>
                        <p class="form-help" style="margin-top: calc(-1 * var(--spacing-4)); margin-bottom: var(--spacing-4);">全角カタカナで入力してください</p>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- ステップ5: 添付書類 -->
            <div class="step-content" id="step-5">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">添付書類</h2>
                        <p class="card-description">必要な書類をアップロードしてください</p>
                    </div>

                    <form>
                        <div class="notification notification-warning">
                            <svg class="notification-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                            <div>
                                <strong>添付書類について</strong>
                                <ul style="margin-top: var(--spacing-2); padding-left: var(--spacing-4); font-size: var(--font-size-sm);">
                                    <li>ファイル形式: PDF, JPG, PNG（1ファイル最大10MB）</li>
                                    <li>必要に応じて診断書、レントゲン写真などを添付してください</li>
                                    <li>書類は後からでも追加可能です</li>
                                </ul>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">診断書・医師の意見書</label>
                            <div class="file-upload-area" onclick="document.getElementById('medicalCertificate').click()">
                                <svg class="file-upload-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                </svg>
                                <p class="file-upload-text">クリックしてファイルを選択</p>
                                <p class="file-upload-hint">またはドラッグ＆ドロップ</p>
                            </div>
                            <input type="file" id="medicalCertificate" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" multiple>
                            <div class="file-list" id="medicalCertificateList"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">その他の添付書類（任意）</label>
                            <div class="file-upload-area" onclick="document.getElementById('otherDocuments').click()">
                                <svg class="file-upload-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                </svg>
                                <p class="file-upload-text">クリックしてファイルを選択</p>
                                <p class="file-upload-hint">またはドラッグ＆ドロップ</p>
                            </div>
                            <input type="file" id="otherDocuments" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" multiple>
                            <div class="file-list" id="otherDocumentsList"></div>
                        </div>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- 回覧依頼セクション（ステップ5と6の間） -->
            <div class="step-content" id="circulation-section" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">回覧依頼</h2>
                        <p class="card-description">事業主と医療機関への回覧依頼を設定します</p>
                    </div>

                    <form>
                        <div class="notification notification-info">
                            <svg class="notification-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                            </svg>
                            <div>
                                <strong>回覧依頼について</strong>
                                <p style="margin-top: var(--spacing-2); font-size: var(--font-size-sm);">
                                    事業主と医療機関に入力依頼のメールを送信します。全ての関係者の入力が完了後、労働基準監督署へ提出できます。
                                </p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="employerEmail" class="form-label form-label-required">事業主メールアドレス</label>
                            <input type="email" id="employerEmail" class="form-input" placeholder="例：employer@example.com" aria-required="true">
                            <p class="form-help">事業主の担当者メールアドレスを入力してください</p>
                            <div class="error-message" id="employerEmail-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="medicalSearch" class="form-label form-label-required">労災保険指定医療機関</label>
                            <div class="medical-search-container">
                                <input type="text" id="medicalSearch" class="form-input" placeholder="病院名、住所、地域名で検索" aria-required="true">
                                <button type="button" class="btn btn-secondary" id="medicalSearchBtn">検索</button>
                                <button type="button" class="btn btn-secondary" id="medicalClearBtn" style="display: none;">クリア</button>
                            </div>
                            <div id="medicalResults" class="medical-results"></div>
                            <input type="hidden" id="selectedMedicalId" value="">
                            <input type="hidden" id="selectedMedicalName" value="">
                            <p class="form-help">労災保険指定医療機関を検索して選択してください</p>
                            <div class="error-message" id="medicalSearch-error"></div>
                        </div>
                    </form>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="hideCirculationSection()">戻る</button>
                        <button class="btn btn-primary" onclick="submitCirculation()">回覧依頼を送信</button>
                    </div>
                </div>
            </div>

            <!-- ステップ6: 事業主情報 -->
            <div class="step-content" id="step-6">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-warning">事業主</span>
                        <h2 class="card-title">事業主記入欄</h2>
                        <p class="card-description">事業主による証明情報を入力してください</p>
                    </div>

                    <div class="form-group">
                        <label for="employerDate" class="form-label form-label-required">記入日</label>
                        <input type="date" id="employerDate" class="form-input" placeholder="例：2025-01-15">
                        <p class="form-help">カレンダーアイコンをクリックして日付を選択してください</p>
                        <div class="error-message" id="employerDate-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="businessName" class="form-label form-label-required">事業の名称</label>
                        <input type="text" id="businessName" class="form-input" placeholder="例：株式会社〇〇">
                        <div class="error-message" id="businessName-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">事業の所在地（郵便番号）</label>
                        <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                            <input type="text" id="businessPostalCode1" class="form-input" placeholder="123" maxlength="3" style="max-width: 100px;">
                            <span style="font-weight: bold;">-</span>
                            <input type="text" id="businessPostalCode2" class="form-input" placeholder="4567" maxlength="4" style="max-width: 120px;">
                            <button type="button" class="btn btn-secondary" onclick="searchBusinessAddress()">
                                住所検索
                            </button>
                        </div>
                        <div class="error-message" id="businessPostalCode-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="businessAddress1" class="form-label form-label-required">事業の所在地（都道府県・市区町村）</label>
                        <input type="text" id="businessAddress1" class="form-input" placeholder="郵便番号検索ボタンで自動入力されます">
                        <p class="form-help">郵便番号検索ボタンを押すと自動入力されます</p>
                        <div class="error-message" id="businessAddress1-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="businessAddress2" class="form-label form-label-required">事業の所在地（番地・建物名等）</label>
                        <input type="text" id="businessAddress2" class="form-input" placeholder="例：1-2-2 霞が関ビル3階">
                        <p class="form-help">番地、建物名、部屋番号などを入力してください</p>
                        <div class="error-message" id="businessAddress2-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">事業主の氏名</label>
                        <div style="display: flex; gap: var(--spacing-2);">
                            <div style="flex: 1;">
                                <input type="text" id="employerPosition" class="form-input" placeholder="役職（例：代表取締役）">
                                <div class="error-message" id="employerPosition-error"></div>
                            </div>
                            <div style="flex: 1;">
                                <input type="text" id="employerLastName" class="form-input" placeholder="姓">
                                <div class="error-message" id="employerLastName-error"></div>
                            </div>
                            <div style="flex: 1;">
                                <input type="text" id="employerFirstName" class="form-input" placeholder="名">
                                <div class="error-message" id="employerFirstName-error"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">電話番号</label>
                        <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                            <input type="text" id="employerTel1" class="form-input" placeholder="03" maxlength="5" style="max-width: 100px;">
                            <span>-</span>
                            <input type="text" id="employerTel2" class="form-input" placeholder="1234" maxlength="4" style="max-width: 100px;">
                            <span>-</span>
                            <input type="text" id="employerTel3" class="form-input" placeholder="5678" maxlength="4" style="max-width: 100px;">
                        </div>
                        <div class="error-message" id="employerTel-error"></div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="submitEmployerForm()">入力完了</button>
                    </div>
                </div>
            </div>

            <!-- ステップ7: 医療機関情報 -->
            <div class="step-content" id="step-7">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-success">医療機関</span>
                        <h2 class="card-title">医療機関情報</h2>
                        <p class="card-description">医療機関の基本情報を入力してください</p>
                    </div>

                    <div class="form-group">
                        <label for="medicalDate" class="form-label form-label-required">記入日</label>
                        <input type="date" id="medicalDate" class="form-input" placeholder="例：2025-01-15">
                        <p class="form-help">カレンダーアイコンをクリックして日付を選択してください</p>
                        <div class="error-message" id="medicalDate-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">病院又は診療所の所在地（郵便番号）</label>
                        <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                            <input type="text" id="hospitalPostalCode1" class="form-input" placeholder="123" maxlength="3" style="max-width: 100px;">
                            <span style="font-weight: bold;">-</span>
                            <input type="text" id="hospitalPostalCode2" class="form-input" placeholder="4567" maxlength="4" style="max-width: 120px;">
                            <button type="button" class="btn btn-secondary" onclick="searchHospitalAddress()">
                                住所検索
                            </button>
                        </div>
                        <div class="error-message" id="hospitalPostalCode-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="hospitalAddress1" class="form-label form-label-required">病院又は診療所の所在地（都道府県・市区町村）</label>
                        <input type="text" id="hospitalAddress1" class="form-input" placeholder="郵便番号検索ボタンで自動入力されます">
                        <p class="form-help">郵便番号検索ボタンを押すと自動入力されます</p>
                        <div class="error-message" id="hospitalAddress1-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="hospitalAddress2" class="form-label form-label-required">病院又は診療所の所在地（番地・建物名等）</label>
                        <input type="text" id="hospitalAddress2" class="form-input" placeholder="例：1-2-2 〇〇ビル3階">
                        <p class="form-help">番地、建物名、部屋番号などを入力してください</p>
                        <div class="error-message" id="hospitalAddress2-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="hospitalName" class="form-label form-label-required">病院又は診療所の名称</label>
                        <input type="text" id="hospitalName" class="form-input" placeholder="例：〇〇病院">
                        <div class="error-message" id="hospitalName-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">病院又は診療所の担当者氏名</label>
                        <div style="display: flex; gap: var(--spacing-2);">
                            <div style="flex: 1;">
                                <input type="text" id="doctorLastName" class="form-input" placeholder="姓">
                                <div class="error-message" id="doctorLastName-error"></div>
                            </div>
                            <div style="flex: 1;">
                                <input type="text" id="doctorFirstName" class="form-input" placeholder="名">
                                <div class="error-message" id="doctorFirstName-error"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">電話番号</label>
                        <div style="display: flex; gap: var(--spacing-2); align-items: center;">
                            <input type="text" id="hospitalTel1" class="form-input" placeholder="03" maxlength="5" style="max-width: 100px;">
                            <span>-</span>
                            <input type="text" id="hospitalTel2" class="form-input" placeholder="9876" maxlength="4" style="max-width: 100px;">
                            <span>-</span>
                            <input type="text" id="hospitalTel3" class="form-input" placeholder="5432" maxlength="4" style="max-width: 100px;">
                        </div>
                        <div class="error-message" id="hospitalTel-error"></div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="nextStep()">次へ</button>
                    </div>
                </div>
            </div>

            <!-- ステップ8: 診断証明 -->
            <div class="step-content" id="step-8">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-success">医療機関</span>
                        <h2 class="card-title">診断証明</h2>
                        <p class="card-description">診断内容を入力してください</p>
                    </div>

                    <div class="form-group">
                        <label for="injuryPart" class="form-label form-label-required">傷病の部位及び傷病名</label>
                        <input type="text" id="injuryPart" class="form-input" placeholder="例：腰部打撲">
                        <div class="error-message" id="injuryPart-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">療養の期間</label>
                        <div class="form-row">
                            <div>
                                <label for="treatmentStartDate" class="form-label">開始日</label>
                                <input type="date" id="treatmentStartDate" class="form-input" placeholder="例：2025-01-15">
                                <p class="form-help">カレンダーから選択</p>
                                <div class="error-message" id="treatmentStartDate-error"></div>
                            </div>
                            <div>
                                <label for="treatmentEndDate" class="form-label">終了日</label>
                                <input type="date" id="treatmentEndDate" class="form-input" placeholder="例：2025-01-30">
                                <p class="form-help">カレンダーから選択</p>
                                <div class="error-message" id="treatmentEndDate-error"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="treatmentDays" class="form-label form-label-required">診療実日数</label>
                        <div style="display: flex; align-items: center; gap: var(--spacing-2);">
                            <input type="number" id="treatmentDays" class="form-input" placeholder="例：15" max="999" style="max-width: 120px;">
                            <span>日</span>
                        </div>
                        <div class="error-message" id="treatmentDays-error"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label form-label-required">療養の現況</label>
                        <div style="display: flex; flex-direction: column; gap: var(--spacing-2);">
                            <div class="form-radio-item">
                                <input type="radio" id="treatmentStatus1" name="treatmentStatus" value="治癒（症状固定）" class="form-radio">
                                <label for="treatmentStatus1" class="form-radio-label">治癒（症状固定）</label>
                            </div>
                            <div class="form-radio-item">
                                <input type="radio" id="treatmentStatus2" name="treatmentStatus" value="死亡" class="form-radio">
                                <label for="treatmentStatus2" class="form-radio-label">死亡</label>
                            </div>
                            <div class="form-radio-item">
                                <input type="radio" id="treatmentStatus3" name="treatmentStatus" value="転医" class="form-radio">
                                <label for="treatmentStatus3" class="form-radio-label">転医</label>
                            </div>
                            <div class="form-radio-item">
                                <input type="radio" id="treatmentStatus4" name="treatmentStatus" value="中止" class="form-radio">
                                <label for="treatmentStatus4" class="form-radio-label">中止</label>
                            </div>
                            <div class="form-radio-item">
                                <input type="radio" id="treatmentStatus5" name="treatmentStatus" value="継続中" class="form-radio">
                                <label for="treatmentStatus5" class="form-radio-label">継続中</label>
                            </div>
                        </div>
                        <div class="error-message" id="treatmentStatus-error"></div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-primary" onclick="submitMedicalForm()">入力完了</button>
                    </div>
                </div>
            </div>

            <!-- ステップ10: 確認・提出 -->
            <div class="step-content" id="step-10">
                <div class="card">
                    <div class="card-header">
                        <span class="badge badge-primary">被災労働者</span>
                        <h2 class="card-title">申請内容の確認</h2>
                        <p class="card-description">入力内容を確認して申請を完了してください</p>
                    </div>

                    <div class="notification notification-warning">
                        <svg class="notification-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <div>
                            <strong>申請前の確認事項</strong>
                            <ul style="margin-top: var(--spacing-2); padding-left: var(--spacing-4);">
                                <li>入力内容に誤りがないことを確認しました</li>
                                <li>必要な書類をすべて添付しました</li>
                                <li>事業主と医療機関の証明を取得しました</li>
                            </ul>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="form-checkbox-item">
                            <input type="checkbox" id="finalConfirm" class="form-checkbox">
                            <label for="finalConfirm" class="form-checkbox-label">
                                <strong>上記の内容で間違いないことを確認し、労災保険給付を申請します</strong>
                            </label>
                        </div>
                        <div class="error-message" id="finalConfirm-error"></div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-secondary" onclick="previousStep()">前へ</button>
                        <button class="btn btn-success" onclick="submitApplication()">申請する</button>
                    </div>
                </div>
            </div>

            <!-- 完了画面 -->
            <div class="step-content" id="completion">
                <div class="card">
                    <div class="completion-screen">
                        <div class="completion-icon">✓</div>
                        <h2 class="completion-title">申請が完了しました</h2>
                        <p class="completion-message">
                            労災保険給付申請を受け付けました。<br>
                            申請番号: <strong>2025-001234</strong>
                        </p>

                        <div class="btn-group" style="justify-content: center;">
                            <button class="btn btn-outline" onclick="window.print()">申請書を印刷</button>
                            <button class="btn btn-primary" onclick="location.href='index.html'">ホームに戻る</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ローディング -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>処理中...</p>
            </div>
        </div>
    </main>

    <!-- トースト通知 -->
    <div class="toast" id="saveToast">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
        </svg>
        <span>一時保存しました</span>
    </div>

    <!-- External JavaScript files -->
    <script src="js/common.js?v=20250131"></script>
    <script src="js/pages/application-form.js?v=20250131"></script>
</body>
</html>
